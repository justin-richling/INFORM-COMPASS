<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Run Index</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    /* Search bar */
    #searchBox {
      width: 300px;
      padding: 8px;
      margin-bottom: 15px;
      font-size: 14px;
    }

    /* Table styling */
    table {
      border-collapse: collapse;
      width: 100%;
      table-layout: fixed; /* IMPORTANT for alignment */
    }

    th, td {
      border: 1px solid #ccc;
      padding: 8px 10px;
      text-align: left;
      vertical-align: middle;
      word-wrap: break-word;
    }

    th {
      background-color: #f2f2f2;
      font-weight: bold;
    }

    tr:nth-child(even) {
      background-color: #fafafa;
    }

    /* Pagination */
    #pagination {
      margin-top: 15px;
      text-align: center;
    }

    #pagination button {
      margin: 0 4px;
      padding: 5px 10px;
      cursor: pointer;
    }

    #pagination button.active {
      font-weight: bold;
      background-color: #ddd;
    }
  </style>
</head>
<body>

<h2>Model Runs</h2>

<input
  type="text"
  id="searchBox"
  placeholder="Search by run name..."
>

<table id="runTable">
  <thead>
    <tr>
      <th style="width: 30%;">Run Name</th>
      <th style="width: 20%;">Model</th>
      <th style="width: 20%;">Resolution</th>
      <th style="width: 30%;">Notes</th>
    </tr>
  </thead>
  <tbody id="tableBody">
    <!-- Example rows (replace or generate as needed) -->
    <tr><td>run_A_001</td><td>CESM</td><td>1deg</td><td>Control</td></tr>
    <tr><td>run_A_002</td><td>CESM</td><td>1deg</td><td>Perturbed</td></tr>
    <tr><td>run_B_test</td><td>CAM</td><td>0.25deg</td><td>High-res</td></tr>
    <!-- add as many rows as you want -->
  </tbody>
</table>

<div id="pagination"></div>

<script>
  const rowsPerPage = 13;
  let currentPage = 1;

  const searchBox = document.getElementById("searchBox");
  const tableBody = document.getElementById("tableBody");
  const pagination = document.getElementById("pagination");

  function getFilteredRows() {
    const filter = searchBox.value.toLowerCase();
    return Array.from(tableBody.querySelectorAll("tr")).filter(row =>
      row.textContent.toLowerCase().includes(filter)
    );
  }

  function renderTable() {
    const rows = getFilteredRows();
    const start = (currentPage - 1) * rowsPerPage;
    const end = start + rowsPerPage;

    rows.forEach((row, index) => {
      row.style.display = (index >= start && index < end) ? "" : "none";
    });

    renderPagination(rows.length);
  }

  function renderPagination(totalRows) {
    pagination.innerHTML = "";
    const totalPages = Math.ceil(totalRows / rowsPerPage);

    for (let i = 1; i <= totalPages; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      btn.className = (i === currentPage) ? "active" : "";
      btn.onclick = () => {
        currentPage = i;
        renderTable();
      };
      pagination.appendChild(btn);
    }
  }

  searchBox.addEventListener("input", () => {
    currentPage = 1;
    renderTable();
  });

  renderTable();
</script>

</body>
</html>
